 import { useEffect, useState } from "react";
 // –î–æ–¥–∞–π useParams, —è–∫—â–æ –±—É–¥–µ—à —Ä–æ–±–∏—Ç–∏ BookDetailPage
 import { BrowserRouter, Routes, Route, Link, useParams } from "react-router-dom";
 import axios from "axios";
 import "./App.css";

 // === –¢–í–û–á –Ü–ú–ü–û–†–¢–ò ===
 import Header from "./Header";
 import Footer from "./Components/Footer";
 import Portfolio from "./Components/Portfolio";
 import RegisterForm from "./Components/Register";
 import LoginForm from "./Components/Login";
 // ProfilePage —Ç–µ–ø–µ—Ä –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ App
 // import ProfilePage from "./Components/ProfilePage";
 import OrderPage from "./Components/OrderPage";
 import LibraryPage from "./Components/LibraryPage";
 import BookDetailPage from "./Components/BookDetailPage";
 // MainPage —ñ Layout, –∑–¥–∞—î—Ç—å—Å—è, –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –≤ —Ü—ñ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ
 // import MainPage from "./Components/MainPage";
 // import Layout from './Components/Layout';


 // --- –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç App ---
 function App() {

   // ============================================
   // === –°–¢–ê–ù –ö–û–ú–ü–û–ù–ï–ù–¢–ê (State) ================
   // ============================================

   const [books, setBooks] = useState([]);
   const [loading, setLoading] = useState(true);
   const [newBook, setNewBook] = useState({ title: "", author: "" });
   const [showLogin, setShowLogin] = useState(false);
   const [showRegister, setShowRegister] = useState(false);

   // --- –°—Ç–∞–Ω –¥–ª—è –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ (–ë–∞–∂–∞–Ω–æ–≥–æ) ---
   const [wishlist, setWishlist] = useState(new Set());

   // –ë–∞–∑–æ–≤–∏–π URL –¥–ª—è API
   const API_URL = "http://localhost:5000"; // –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ –ø–æ—Ä—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π

   // ============================================
   // === –ö–û–ú–ü–û–ù–ï–ù–¢ –°–¢–û–†–Ü–ù–ö–ò –ü–†–û–§–Ü–õ–Æ =============
   // ============================================
   // (–í–∏–∑–Ω–∞—á–µ–Ω–∏–π —Ç—É—Ç, —è–∫ —Ç–∏ —ñ –∑—Ä–æ–±–∏–≤ —Ä–∞–Ω—ñ—à–µ)
   const ProfilePage = () => {
     const [user, setUser] = useState(null);
     const [loadingProfile, setLoadingProfile] = useState(true); // –ü–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–≤ –∑–º—ñ–Ω–Ω—É

     useEffect(() => {
       const fetchProfile = async () => {
         const token = localStorage.getItem('token');
         if (!token) {
           setLoadingProfile(false);
           return;
         }
         try {
           // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ API_URL
           const res = await axios.get(`${API_URL}/profile`, {
             headers: { 'Authorization': `Bearer ${token}` }
           });
           setUser(res.data);
         } catch (error) {
           console.error("–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å", error);
         } finally {
           setLoadingProfile(false);
         }
       };
       fetchProfile();
     }, []);

     if (loadingProfile) { // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –Ω–æ–≤—É –∑–º—ñ–Ω–Ω—É
       return <div className="loading">üîÑ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é...</div>;
     }
     if (!user) {
       return (
         <div className="container">
           <h2>–ë—É–¥—å –ª–∞—Å–∫–∞, —É–≤—ñ–π–¥—ñ—Ç—å, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ —Å–≤—ñ–π –∫–∞–±—ñ–Ω–µ—Ç.</h2>
           {/* –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –∫–Ω–æ–ø–∫—É –¥–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞ –ª–æ–≥—ñ–Ω */}
         </div>
       );
     }
     return (
       <div className="profile-page-container container mx-auto px-4 py-8"> {/* –î–æ–¥–∞–≤ –∫–ª–∞—Å–∏ */}
         <div className="profile-card bg-white p-6 rounded-lg shadow-md"> {/* –î–æ–¥–∞–≤ –∫–ª–∞—Å–∏ */}
           <h1 className="text-2xl font-bold mb-4">–û—Å–æ–±–∏—Å—Ç–∏–π –∫–∞–±—ñ–Ω–µ—Ç</h1>
           <div className="profile-section mb-4">
             <h2 className="text-xl font-semibold mb-2">–ú–æ—ó –¥–∞–Ω—ñ</h2>
             <div className="profile-details">
               <p><strong>–Ü–º'—è:</strong> {user.name}</p>
               <p><strong>Email:</strong> {user.email}</p>
             </div>
           </div>
           <div className="profile-section mb-4">
             <h2 className="text-xl font-semibold mb-2">–Ü—Å—Ç–æ—Ä—ñ—è –∑–∞–º–æ–≤–ª–µ–Ω—å</h2>
             <p className="profile-placeholder text-gray-500">–£ –≤–∞—Å —â–µ –Ω–µ–º–∞—î –∑–∞–º–æ–≤–ª–µ–Ω—å.</p>
           </div>
           <div className="profile-section">
             <h2 className="text-xl font-semibold mb-2">–°–ø–∏—Å–æ–∫ –±–∞–∂–∞–Ω—å</h2>
             <p className="profile-placeholder text-gray-500">–í–∞—à —Å–ø–∏—Å–æ–∫ –±–∞–∂–∞–Ω—å –ø–æ—Ä–æ–∂–Ω—ñ–π.</p>
             {/* –°—é–¥–∏ –º–æ–∂–Ω–∞ –±—É–¥–µ –¥–æ–¥–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ –∑ wishlist */}
           </div>
         </div>
       </div>
     );
   };

   // ============================================
   // === –§–£–ù–ö–¶–Ü–á –î–õ–Ø –†–û–ë–û–¢–ò –ó –î–ê–ù–ò–ú–ò ============
   // ============================================

   // --- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –∫–Ω–∏–≥ ---
   const fetchBooks = async () => {
     try {
       setLoading(true);
       const res = await axios.get(`${API_URL}/books`);
       setBooks(res.data);
     } catch (err) {
       console.error("–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–Ω–∏–≥:", err);
     } finally {
       setLoading(false);
     }
   };

   // --- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –±–∞–∂–∞–Ω–æ–≥–æ (ID –∫–Ω–∏–≥) ---
   const fetchWishlist = async () => {
     const token = localStorage.getItem('token');
     if (!token) return; // –Ø–∫—â–æ –Ω–µ –∑–∞–ª–æ–≥—ñ–Ω–µ–Ω–∏–π, –Ω—ñ—á–æ–≥–æ –Ω–µ —Ä–æ–±–∏–º–æ
     try {
       const res = await axios.get(`${API_URL}/api/wishlist`, {
         headers: { 'Authorization': `Bearer ${token}` }
       });
       // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω Set –∑ –æ—Ç—Ä–∏–º–∞–Ω–∏–º–∏ ID
       setWishlist(new Set(res.data));
     } catch (error) {
       // –ù–µ –≤–∏–≤–æ–¥–∏–º–æ –ø–æ–º–∏–ª–∫—É –≤ –∫–æ–Ω—Å–æ–ª—å, —è–∫—â–æ —Ü–µ 401/403 (–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—Ä–æ—Å—Ç–æ –Ω–µ —É–≤—ñ–π—à–æ–≤)
       if (error.response && (error.response.status === 401 || error.response.status === 403)) {
         console.log("–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è wishlist.");
       } else {
         console.error('–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å–ø–∏—Å–æ–∫ –±–∞–∂–∞–Ω–æ–≥–æ:', error);
       }
     }
   };

   // --- –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ—ó –∫–Ω–∏–≥–∏ (–∑ —Ñ–æ—Ä–º–∏) ---
   const addBook = async () => {
     if (!newBook.title || !newBook.author) return alert("–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –Ω–∞–∑–≤—É —Ç–∞ –∞–≤—Ç–æ—Ä–∞");
     try {
       await axios.post(`${API_URL}/books`, newBook);
       fetchBooks(); // –û–Ω–æ–≤–ª—é—î–º–æ —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥
       setNewBook({ title: "", author: "" }); // –û—á–∏—â—É—î–º–æ —Ñ–æ—Ä–º—É
     } catch (err) {
       console.error("–ü–æ–º–∏–ª–∫–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è:", err);
       alert("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –∫–Ω–∏–≥–∏"); // –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
     }
   };

   // --- –î–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–Ω–∏–≥–∏ –∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ (–∫–Ω–æ–ø–∫–∞) ---
   const handleToggleWishlist = async (bookId) => {
     const token = localStorage.getItem('token');
     // –Ø–∫—â–æ –Ω–µ–º–∞—î —Ç–æ–∫–µ–Ω–∞ - –ø–æ–∫–∞–∑—É—î–º–æ –º–æ–¥–∞–ª–∫—É –ª–æ–≥—ñ–Ω—É
     if (!token) {
       setShowLogin(true);
       return;
     }
     // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –∫–Ω–∏–≥–∞ –≤–∂–µ —î –≤ –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ
     const isAdded = wishlist.has(bookId);
     try {
       if (isAdded) {
         // –í–∏–¥–∞–ª—è—î–º–æ –∑ —Å–µ—Ä–≤–µ—Ä–∞
         await axios.delete(`${API_URL}/api/wishlist/${bookId}`, {
           headers: { 'Authorization': `Bearer ${token}` }
         });
         // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω –ª–æ–∫–∞–ª—å–Ω–æ (–≤–∏–¥–∞–ª—è—î–º–æ ID)
         setWishlist(prev => {
           const newWishlist = new Set(prev);
           newWishlist.delete(bookId);
           return newWishlist;
         });
       } else {
         // –î–æ–¥–∞—î–º–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
         await axios.post(`${API_URL}/api/wishlist`, { bookId }, {
           headers: { 'Authorization': `Bearer ${token}` }
         });
         // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω –ª–æ–∫–∞–ª—å–Ω–æ (–¥–æ–¥–∞—î–º–æ ID)
         setWishlist(prev => new Set(prev).add(bookId));
       }
     } catch (error) {
       console.error('–ü–æ–º–∏–ª–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –±–∞–∂–∞–Ω–æ–≥–æ:', error);
       // –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –ø—Ä–æ –ø–æ–º–∏–ª–∫—É
       alert("–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.");
     }
   };

   // ============================================
   // === –ï–§–ï–ö–¢–ò (useEffect) =====================
   // ============================================

   // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –∫–Ω–∏–≥–∏ —Ç–∞ wishlist –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É —Ä–µ–Ω–¥–µ—Ä—ñ
   useEffect(() => {
     fetchBooks();
     fetchWishlist(); // –í–∞–∂–ª–∏–≤–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ wishlist —Ç—É—Ç
   }, []); // –ü—É—Å—Ç–∏–π –º–∞—Å–∏–≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –æ–∑–Ω–∞—á–∞—î "–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –æ–¥–∏–Ω —Ä–∞–∑"

   // ============================================
   // === –£–ú–û–í–ù–ò–ô –†–ï–ù–î–ï–† (Loading) ===============
   // ============================================

   // –ü–æ–∫–∞–∑—É—î–º–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, —è–∫—â–æ –∫–Ω–∏–≥–∏ —â–µ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ
   // (loading - —Ü–µ —Å—Ç–∞–Ω –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–Ω–∏–≥, –Ω–µ –ø—Ä–æ—Ñ—ñ–ª—é)
   if (loading && books.length === 0) {
     return <div className="loading fixed inset-0 flex items-center justify-center bg-white z-50">üîÑ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>;
   }

   // ============================================
   // === –†–ï–ù–î–ï–† –ì–û–õ–û–í–ù–û–ì–û –ö–û–ú–ü–û–ù–ï–ù–¢–ê (JSX) =====
   // ============================================

   return (
     <BrowserRouter>
       {/* –ì–æ–ª–æ–≤–Ω–∞ –æ–±–≥–æ—Ä—Ç–∫–∞ */}
       <div className="app-layout flex flex-col min-h-screen bg-gray-50"> {/* –î–æ–¥–∞–≤ —Ñ–æ–Ω */}

         {/* --- –®–∞–ø–∫–∞ –°–∞–π—Ç—É --- */}
         <Header
           onLoginClick={() => setShowLogin(true)}
           onRegisterClick={() => setShowRegister(true)}
         />

         {/* --- –û—Å–Ω–æ–≤–Ω–∏–π –ö–æ–Ω—Ç–µ–Ω—Ç (–¥–µ –∑–º—ñ–Ω—é—é—Ç—å—Å—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏) --- */}
         <main className="main-content flex-grow container mx-auto px-4 py-8">
           <Routes>

             {/* --- –ú–∞—Ä—à—Ä—É—Ç –¥–ª—è –ì–æ–ª–æ–≤–Ω–æ—ó –°—Ç–æ—Ä—ñ–Ω–∫–∏ --- */}
             <Route
               path="/"
               element={
                 // React Fragment –¥–ª—è –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
                 <>
                   <Portfolio />
                   {/* –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ container —Ç—É—Ç, —è–∫—â–æ –≤—ñ–Ω –ø–æ—Ç—Ä—ñ–±–µ–Ω */}
                   <div className="container">
                     {/* --- –°–µ–∫—Ü—ñ—è –î–æ–¥–∞–≤–∞–Ω–Ω—è –ö–Ω–∏–≥–∏ --- */}
                     <div className="form-section bg-white p-4 rounded shadow mb-8">
                       <h2 className="text-xl font-semibold mb-3">–î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –∫–Ω–∏–≥—É</h2>
                       <div className="form flex flex-col md:flex-row gap-3">
                         <input
                           className="border p-2 rounded flex-grow"
                           placeholder="–ù–∞–∑–≤–∞ –∫–Ω–∏–≥–∏ *"
                           value={newBook.title}
                           onChange={e => setNewBook({ ...newBook, title: e.target.value })}
                         />
                         <input
                           className="border p-2 rounded flex-grow"
                           placeholder="–ê–≤—Ç–æ—Ä *"
                           value={newBook.author}
                           onChange={e => setNewBook({ ...newBook, author: e.target.value })}
                         />
                         <button
                           onClick={addBook}
                           className="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors"
                         >
                           ‚ûï –î–æ–¥–∞—Ç–∏ –∫–Ω–∏–≥—É
                         </button>
                       </div>
                     </div>

                     {/* --- –°–µ–∫—Ü—ñ—è –ö–∞—Ç–∞–ª–æ–≥—É –ö–Ω–∏–≥ --- */}
                     <h2 className="text-2xl font-bold mb-4">–ö–∞—Ç–∞–ª–æ–≥ –ö–Ω–∏–≥</h2>
                     {/* –î–æ–¥–∞–≤ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É loading —â–µ —Ä–∞–∑ —Ç—É—Ç, —è–∫—â–æ –∫–Ω–∏–≥–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è */}
                     {loading ? (
                       <div className="text-center py-10">üîÑ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–Ω–∏–≥...</div>
                     ) : (
                       // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ grid –¥–ª—è –∫–∞—Ä—Ç–æ–∫
                       <div className="books-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                         {/* –ü–µ—Ä–µ–±–∏—Ä–∞—î–º–æ –º–∞—Å–∏–≤ –∫–Ω–∏–≥ */}
                         {books.map(book => {
                           const bookId = book.id; // MySQL –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î 'id'
                           // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î —Ü—è –∫–Ω–∏–≥–∞ –≤ –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ
                           const isBookInWishlist = wishlist.has(bookId);

                           return (
                             // –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞—Ä—Ç–∫–∏ —ñ –∫–Ω–æ–ø–∫–∏
                             <div key={bookId} className="book-card-container flex flex-col bg-white rounded-lg shadow overflow-hidden transition-shadow hover:shadow-lg">
                               {/* –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É */}
                               <Link to={`/books/${bookId}`} className="book-card-link flex-grow flex flex-col">
                                 {/* –ö–∞—Ä—Ç–∫–∞ –∫–Ω–∏–≥–∏ */}
                                 <div className="book-card h-full flex flex-col">
                                   {/* –û–±–∫–ª–∞–¥–∏–Ω–∫–∞ */}
                                   <div className="book-cover-container h-64 bg-gray-200"> {/* –î–æ–¥–∞–≤ —Ñ–æ–Ω */}
                                     <img
                                       className="w-full h-full object-cover"
                                       src={book.cover_url}
                                       alt={book.title}
                                       // –ó–∞–≥–ª—É—à–∫–∞, —è–∫—â–æ —Ñ–æ—Ç–æ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–ª–æ—Å—å
                                       onError={(e) => { e.target.src = 'https://placehold.co/400x600/eee/aaa?text=No+Image'; }}
                                     />
                                   </div>
                                   {/* –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–Ω–∏–≥—É */}
                                   <div className="book-info p-4 flex-grow flex flex-col justify-between">
                                     <div>
                                       <h3 className="book-title font-bold text-lg truncate mb-1">{book.title}</h3>
                                       <p className="book-author text-gray-600 text-sm">{book.author}</p>
                                     </div>
                                   </div>
                                 </div>
                               </Link> {/* –ö—ñ–Ω–µ—Ü—å Link */}

                               {/* --- –ö–Ω–æ–ø–∫–∞ –î–æ–¥–∞—Ç–∏/–í–∏–¥–∞–ª–∏—Ç–∏ –∑ –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ --- */}
                               <div className="p-4 pt-0"> {/* –î–æ–¥–∞–≤ –≤—ñ–¥—Å—Ç—É–ø –¥–ª—è –∫–Ω–æ–ø–∫–∏ */}
                                 <button
                                   onClick={() => handleToggleWishlist(bookId)}
                                   // –î–∏–Ω–∞–º—ñ—á–Ω—ñ –∫–ª–∞—Å–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏
                                   className={`w-full p-2 rounded transition-colors text-sm font-medium ${
                                     isBookInWishlist
                                       ? 'bg-green-100 text-green-700 hover:bg-green-200' // –°—Ç–∏–ª—å –¥–ª—è "–í –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ"
                                       : 'bg-orange-500 text-white hover:bg-orange-600' // –°—Ç–∏–ª—å –¥–ª—è "–î–æ–¥–∞—Ç–∏"
                                   }`}
                                 >
                                   {isBookInWishlist ? '‚úÖ –í –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ' : 'üß° –î–æ–¥–∞—Ç–∏ –≤ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É'}
                                 </button>
                               </div>

                             </div> // –ö—ñ–Ω–µ—Ü—å book-card-container
                           );
                         })} {/* –ö—ñ–Ω–µ—Ü—å map */}
                       </div> // –ö—ñ–Ω–µ—Ü—å books-grid
                     )} {/* –ö—ñ–Ω–µ—Ü—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ loading */}
                   </div> {/* –ö—ñ–Ω–µ—Ü—å container */}
                 </> // –ö—ñ–Ω–µ—Ü—å React Fragment
               } // –ö—ñ–Ω–µ—Ü—å element
             /> {/* –ö—ñ–Ω–µ—Ü—å Route –¥–ª—è "/" */}

             {/* --- –ú–∞—Ä—à—Ä—É—Ç–∏ –¥–ª—è –Ü–Ω—à–∏—Ö –°—Ç–æ—Ä—ñ–Ω–æ–∫ --- */}
             <Route path="/profile" element={<ProfilePage />} />
             <Route path="/library" element={<LibraryPage />} />
             <Route path="/books/:bookId" element={<BookDetailPage />} />
             <Route path="/orders" element={<OrderPage />} />
             {/* –î–æ–¥–∞–π —ñ–Ω—à—ñ –º–∞—Ä—à—Ä—É—Ç–∏ —Ç—É—Ç, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ */}

           </Routes>
         </main> {/* –ö—ñ–Ω–µ—Ü—å main-content */}

         {/* --- –ü—ñ–¥–≤–∞–ª –°–∞–π—Ç—É --- */}
         <Footer />

         {/* --- –ú–æ–¥–∞–ª—å–Ω—ñ –≤—ñ–∫–Ω–∞ (–õ–æ–≥—ñ–Ω/–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è) --- */}
         {showRegister &&
           <RegisterForm
             onClose={() => setShowRegister(false)}
             onLoginClick={() => { setShowRegister(false); setShowLogin(true); }}
           />}
         {showLogin && <LoginForm onClose={() => setShowLogin(false)} />}

       </div> {/* –ö—ñ–Ω–µ—Ü—å app-layout */}
     </BrowserRouter>
   );
 }

 export default App;

 // –í–∏–¥–∞–ª–µ–Ω—ñ —ñ–º–ø–æ—Ä—Ç–∏ Layout —Ç–∞ MainPage, —è–∫—ñ –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ

